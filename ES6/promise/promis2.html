<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<script>
    new Promise((resolve) => {
        console.log(0)
        resolve()

    }).then((res) => {
       return new Promise((resolve)=>{
           resolve(Promise.resolve(5))
       }).then((res)=>{
           console.log(res);
       })
    })

    // console.log('同步操作');

    new Promise((resolve) => {
        console.log(1);
        resolve()
    }).then(() => {
        console.log(2)
    }).then(() => {
        console.log(3)
    }).then(() => {
        console.log(4)
    }).then(() => {
        console.log(6)
    })

    /**
     * Promise.resolve(value)返回值是什么，3种情况
     * value 是promise,返回这个promise
     * value是thenable对象，对这个对象的promise形式，并且带着那个then()函数
     * value 是字符串，就返回字符串
     * */


    /**
     * 第一轮
     * 输出0 同步任务完成，确认本轮有没有微任务队列 => 没有,
     *      与此同时，rosolve(Promise.resolve(8))，
     *         测试了一下：typeof Promise.resolve(8)是一个对象
     *                   Promise.resolve(8).then是一个函数，所以是一个thenable对象，
     *                   返回这个Promise.resolve(8),带着then()
     *         有没有成立第一个微任务?我觉得是有，因为运行的过程中，此时还是一个promise.then()
     *         最外层的Promised 的resole()要等Promise.resolve(8)这个promise的结果
     *         所以第一个为微任务应该是Promise.resolve(8)。then()

     *
     * 输出1 同步任务完成，console.log(2)放入下一轮的微任务
     *      确认本轮有没有微任务队列 => 有，Promise.resolve(8)。then()的微任务
     *
     *
     *
     *
     *第二轮：有没有同步任务，没有 有没有微任务 有： [Promise.resolve(8)。then(),console.log(2)]
     *
     * Promise.resolve(8)。then()执行,返回的是什么？
     * 我觉得，之前是Promise.resolve(8)的状态：pending
     * 返回了一个状态是fulfill的Promise.resolve(8)
     *
     *Promise.resolve(8).then 它有这个函数，但是没有传入then后面的的那些东西，所以就不会执行它的then了
     * 就是说这个Promise.resolve(8).then不会产生新的微任务
     *
     * console.log(2)
     * 产生新的微任务 console.log(3)放入下一轮微任务
     *
     *
     *
     * 第三轮：
     * 有没有同步任务，有，resovle(Promise.resolve(8))
     * 前2论的结果就是resovle(Promise.resolve(8))这个里面的Promise.resolve(8)的状态变了，pending => fulfill
     * 把 console.log(res, '=====')放入下一轮微任务
     *
     *congsole.log(3)执行，把console。log(5)放入下一轮微任务
     *
     *
     * 第四轮：
     * 执行 console.log(res, '=====') res = 8
     * console。log(5)执行，放入 console。log(6)
     *
     *
     *
     * */

</script>
</body>
</html>